<!DOCTYPE html>
<html lang="en">

<head>

    <!-- METADATA -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Business Details - KTown</title>

    <!-- BOOTSTRAP -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
        </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- JQUERY -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="script.js"></script>

    <!-- LEAFLET MAP -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <link href="style.css" rel="stylesheet">

    <style>
        .bottom-sheet-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1040;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .bottom-sheet-overlay.show {
            opacity: 1;
        }

        .bottom-sheet {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 24px 24px 0 0;
            z-index: 1050;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15), 0 0 40px rgba(0, 123, 255, 0.3);
        }

        .bottom-sheet.show {
            transform: translateY(0);
        }

        .bottom-sheet-handle {
            width: 40px;
            height: 4px;
            background: #d1d5db;
            border-radius: 2px;
            margin: 12px auto;
            cursor: pointer;
        }

        .bottom-sheet-header {
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
            padding-bottom: 8px;
            border-bottom: 1px solid #e5e7eb;
        }
    </style>

</head>

<body>

    <!-- Overlay -->
    <div class="bottom-sheet-overlay" id="overlay"></div>

    <!-- Bottom Sheet -->
    <div class="bottom-sheet" id="bottomSheet">
        <div class="bottom-sheet-header">
            <div class="bottom-sheet-handle"></div>
        </div>

        <div class="container pb-3">

            <!-- Image Carousel -->

            <div id="businessCarousel" class="carousel slide mb-2" data-bs-ride="carousel" style="position: relative;">
                <i class="bi bi-heart"
                    style="position: absolute; top: 12px; right: 12px; font-size: 1.5rem; cursor: pointer; color: white; z-index: 10; text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
                <div class="carousel-inner rounded-3 overflow-hidden">
                    <div class="carousel-item active">
                        <img src="images/closeups.jpg" class="d-block w-100" alt="closeups"
                            style="height: 300px; object-fit: cover;">
                    </div>
                    <div class="carousel-item">
                        <img src="images/studiopics.jpg" class="d-block w-100" alt="studiopics"
                            style="height: 300px; object-fit: cover;">
                    </div>
                    <div class="carousel-item">
                        <img src="images/selfie.jpg" class="d-block w-100" alt="selfie"
                            style="height: 300px; object-fit: cover;">
                    </div>
                    <div class="carousel-item">
                        <img src="images/studio.jpg" class="d-block w-100" alt="studio"
                            style="height: 300px; object-fit: cover;">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#businessCarousel"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#businessCarousel"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

            <!-- Image Thumbnails -->
            <div class="d-flex gap-2 mb-4">
                <img src="images/closeups.jpg" class="rounded" alt="closeups"
                    style="width: 60px; height: 60px; object-fit: cover; cursor: pointer; opacity: 1; border: 2px solid #0056b3;"
                    data-bs-target="#businessCarousel" data-bs-slide-to="0">
                <img src="images/studiopics.jpg" class="rounded" alt="studiopics"
                    style="width: 60px; height: 60px; object-fit: cover; cursor: pointer; opacity: 0.6;"
                    data-bs-target="#businessCarousel" data-bs-slide-to="1">
                <img src="images/selfie.jpg" class="rounded" alt="selfie"
                    style="width: 60px; height: 60px; object-fit: cover; cursor: pointer; opacity: 0.6;"
                    data-bs-target="#businessCarousel" data-bs-slide-to="2">
                <img src="images/studio.jpg" class="rounded" alt="studio"
                    style="width: 60px; height: 60px; object-fit: cover; cursor: pointer; opacity: 0.6;"
                    data-bs-target="#businessCarousel" data-bs-slide-to="3">
            </div>

            <!-- Business Details -->
            <div class="mb-4">
                <h2 class="mb-3">SEL-FIE Studio</h2>

                <!-- Rating -->
                <div class="mb-3 d-flex justify-content-between align-items-center">
                    <span class="badge bg-light text-muted">
                        <i class="bi bi-star-fill"></i> 4.5 (128 reviews)
                    </span>
                    <span class="badge bg-secondary" style="opacity: 0.5;">Closed â€¢ Opens at 10:00 AM</span>
                </div>

                <!-- Location and Contact -->
                <div class="card mb-3 border-0 bg-light">
                    <div class="card-body">
                        <!-- Location -->
                        <div class="d-flex align-items-start mb-3">
                            <i class="bi bi-geo-alt-fill text-danger me-3" style="font-size: 1.25rem;"></i>
                            <div>
                                <p class="mb-0">Location</p>
                                <p class="mb-0 text-muted">123 Bloor Street, Toronto, ON M5V 3A8</p>
                            </div>
                        </div>

                        <!-- Contact -->
                        <div class="d-flex align-items-start">
                            <i class="bi bi-telephone-fill text-primary me-3" style="font-size: 1.25rem;"></i>
                            <div>
                                <p class="mb-0">Contact</p>
                                <p class="mb-0 text-muted">(416) 555-0123</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Hours of Operation -->
            <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header bg-light">
                    <h6 class="mb-0"><i class="bi bi-clock me-2"></i> Hours of Operation</h6>
                </div>
                <div class="card-body">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Mon - Fri</span>
                        <span class="text-muted">10:00 AM - 10:00 PM</span>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Sat - Sun</span>
                        <span class="text-muted">11:00 AM - 9:00 PM</span>
                    </div>
                    <div class="d-flex justify-content-between text-muted">
                        <span>Holiday hours may vary</span>
                    </div>
                </div>
            </div>

            <!-- Business Description -->
            <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header bg-light">
                    <h6 class="mb-0"><i class="bi bi-info-circle me-2"></i>Description</h6>
                </div>
                <div class="card-body">
                    <p class="mb-0">Capture your memories in our trendy Korean-style selfie photo booth! Featuring fun
                        props, customizable filters, and instant prints. Perfect for friends, couples, and solo shots in
                        a vibrant K-pop inspired setting.</p>
                </div>
            </div>

            <!-- Map -->
            <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header bg-light">
                    <h6 class="mb-0"><i class="bi bi-map me-2"></i> Location Map</h6>
                </div>
                <div class="card-body p-0">
                    <div id="map" style="height: 400px;"></div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Show bottom sheet on load
        window.addEventListener('DOMContentLoaded', function () {
            const bottomSheet = document.getElementById('bottomSheet');
            const overlay = document.getElementById('overlay');

            setTimeout(() => {
                bottomSheet.classList.add('show');
                overlay.classList.add('show');
            }, 100);

            // Initialize map after bottom sheet is shown
            setTimeout(() => {
                const map = L.map('map').setView([43.6629, -79.3957], 13);

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; OpenStreetMap contributors',
                    maxZoom: 19
                }).addTo(map);

                const marker = L.marker([43.6629, -79.3957]).addTo(map)
                    .bindPopup('<strong>Business Name</strong><br>123 Korean Street, Toronto, ON');
            }, 400);

            // Close on overlay click
            overlay.addEventListener('click', function () {
                closeBottomSheet();
            });

            // Close on handle click
            document.querySelector('.bottom-sheet-handle').addEventListener('click', function () {
                closeBottomSheet();
            });

            function closeBottomSheet() {
                bottomSheet.classList.remove('show');
                overlay.classList.remove('show');
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 300);
            }

            // Heart icon toggle
            document.addEventListener('click', function (e) {
                if ((e.target.classList.contains('bi-heart') || e.target.classList.contains('bi-heart-fill')) &&
                    e.target.closest('.card-img-overlay')) {
                    e.preventDefault();
                    e.stopPropagation();
                    e.target.classList.toggle('bi-heart');
                    e.target.classList.toggle('bi-heart-fill');

                    // Toggle color and outline
                    if (e.target.classList.contains('bi-heart-fill')) {
                        e.target.style.color = '#ec4899';
                        e.target.style.webkitTextStroke = '2px white';
                        e.target.style.textShadow = '0 0 3px white';
                    } else {
                        e.target.style.color = 'white';
                        e.target.style.webkitTextStroke = '';
                        e.target.style.textShadow = '0 2px 4px rgba(0,0,0,0.3)';
                    }
                }
            });

            // Thumbnail carousel sync
            const carousel = document.getElementById('businessCarousel');
            const thumbnails = document.querySelectorAll('[data-bs-slide-to]');

            carousel.addEventListener('slide.bs.carousel', function (e) {
                thumbnails.forEach((thumb, index) => {
                    if (index === e.to) {
                        thumb.style.opacity = '1';
                        thumb.style.border = '2px solid #0056b3';
                    } else {
                        thumb.style.opacity = '0.6';
                        thumb.style.border = 'none';
                    }
                });
            });
        });
    </script>

</body>

</html>